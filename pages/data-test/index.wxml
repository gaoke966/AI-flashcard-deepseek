<cu-custom>
  <view slot="content">数据加载测试</view>
</cu-custom>

<view class="cu-card case">
  <view class="cu-item shadow">
    <view class="cu-bar bg-white solid-bottom">
      <view class="action">
        <text class="cuIcon-title text-blue"></text>Token状态
      </view>
    </view>
    <view class="padding">
      <text>Token: {{token ? token.substring(0, 50) + '...' : '未获取'}}</text>
    </view>
  </view>
</view>

<view class="padding flex flex-direction">
  <button class="cu-btn bg-blue margin-tb-sm" bindtap="testToken">获取Token</button>
  <button class="cu-btn bg-green margin-tb-sm" bindtap="testBoxesApi">测试卡集API</button>
  <button class="cu-btn bg-orange margin-tb-sm" bindtap="testCardsApi">测试卡片API</button>
  <button class="cu-btn bg-red margin-tb-sm" bindtap="clearResults">清空结果</button>
</view>

<view class="cu-card case">
  <view class="cu-item shadow">
    <view class="cu-bar bg-white solid-bottom">
      <view class="action">
        <text class="cuIcon-title text-green"></text>卡集API结果
      </view>
    </view>
    <view class="padding">
      <text class="text-sm">{{boxesResult || '暂无结果'}}</text>
    </view>
  </view>
</view>

<view class="cu-card case">
  <view class="cu-item shadow">
    <view class="cu-bar bg-white solid-bottom">
      <view class="action">
        <text class="cuIcon-title text-orange"></text>卡片API结果
      </view>
    </view>
    <view class="padding">
      <text class="text-sm">{{cardsResult || '暂无结果'}}</text>
    </view>
  </view>
</view>

<view class="cu-card case">
  <view class="cu-item shadow">
    <view class="cu-bar bg-white solid-bottom">
      <view class="action">
        <text class="cuIcon-title text-grey"></text>操作日志
      </view>
    </view>
    <view class="padding">
      <scroll-view scroll-y style="max-height: 200px;">
        <view class="text-sm" wx:for="{{logs}}" wx:key="index">{{item}}</view>
      </scroll-view>
    </view>
  </view>
</view>